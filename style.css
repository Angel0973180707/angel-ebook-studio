/* Angel Ebook Studio v1.2 (minimal editor)
   Goal: spacious, mobile-friendly, intuitive. */

:root{
  --bg:#0b1411;
  --panel:#0f1b17;
  --card:#12231e;
  --text:#eaf3f0;
  --muted:#b9c7c2;
  --line:rgba(255,255,255,.10);
  --accent:#f0a04b;
  --danger:#ff5c6c;
  --ok:#3ddc97;

  --r:16px;
  --shadow:0 10px 28px rgba(0,0,0,.35);
}

*{ box-sizing:border-box; }
html,body{ height:100%; }
body{
  margin:0;
  background:var(--bg);
  color:var(--text);
  font-family: ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, "Noto Sans TC", "PingFang TC", "Microsoft JhengHei", Arial, sans-serif;
}

a{ color:inherit; }

.topbar{
  position:sticky; top:0; z-index:20;
  display:flex; align-items:center; justify-content:space-between;
  padding:14px 14px;
  background:rgba(11,20,17,.92);
  backdrop-filter: blur(10px);
  border-bottom:1px solid var(--line);
}

.brand .title{
  font-weight:800;
  letter-spacing:.2px;
  font-size:16px;
  line-height:1.2;
}
.brand .sub{
  margin-top:2px;
  font-size:12px;
  color:var(--muted);
}

.app{
  padding:14px;
  max-width:920px;
  margin:0 auto;
}

.panel{
  background:linear-gradient(180deg, rgba(18,35,30,.95), rgba(12,23,20,.95));
  border:1px solid var(--line);
  border-radius:var(--r);
  box-shadow:var(--shadow);
  overflow:hidden;
}

.panelHead{
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:12px;
  padding:14px;
  border-bottom:1px solid var(--line);
}

.h2{
  font-size:16px;
  font-weight:800;
}
.subtxt{
  margin-top:4px;
  font-size:12px;
  color:var(--muted);
}

.btn{
  border:1px solid var(--line);
  background:rgba(255,255,255,.05);
  color:var(--text);
  padding:10px 12px;
  border-radius:14px;
  font-weight:700;
  font-size:14px;
  cursor:pointer;
  user-select:none;
  white-space:nowrap;
}
.btn:active{ transform:translateY(1px); }
.btn.primary{
  background:rgba(240,160,75,.14);
  border-color:rgba(240,160,75,.35);
}
.btn.ghost{
  background:transparent;
}
.btn.danger{
  border-color:rgba(255,92,108,.35);
  background:rgba(255,92,108,.10);
}
.btn.small{
  font-size:12px;
  padding:8px 10px;
  border-radius:12px;
}

.pill{
  display:inline-flex;
  align-items:center;
  gap:6px;
  padding:6px 10px;
  border-radius:999px;
  border:1px solid var(--line);
  background:rgba(255,255,255,.05);
  font-size:12px;
  font-weight:800;
  white-space:nowrap;
}
.pill.ok{
  border-color:rgba(61,220,151,.35);
  background:rgba(61,220,151,.10);
}

.list{ padding:12px; display:flex; flex-direction:column; gap:10px; }

.card{
  border:1px solid var(--line);
  background:rgba(255,255,255,.04);
  border-radius:14px;
  padding:12px;
  display:flex;
  gap:12px;
  align-items:center;
  justify-content:space-between;
}
.cardMain{ min-width:0; }
.cardTitle{
  font-weight:900;
  font-size:15px;
  line-height:1.25;
  word-break:break-word;
}
.cardMeta{
  margin-top:6px;
  display:flex;
  gap:10px;
  align-items:center;
  flex-wrap:wrap;
  color:var(--muted);
  font-size:12px;
}
.cardActions{ display:flex; gap:8px; flex-wrap:wrap; justify-content:flex-end; }

.empty{
  padding:24px 12px 28px;
  text-align:center;
  color:var(--muted);
}
.emptyTitle{ font-weight:900; font-size:15px; color:var(--text); }
.emptySub{ margin-top:6px; font-size:12px; }

.editorTop{
  padding:14px;
  border-bottom:1px solid var(--line);
  display:flex;
  gap:10px;
  align-items:flex-start;
  justify-content:space-between;
}
.editorTitleWrap{
  min-width:0;
  flex:1;
}
.editorTitle{
  width:100%;
  background:transparent;
  border:none;
  outline:none;
  color:var(--text);
  font-weight:900;
  font-size:18px;
  padding:2px 0;
}
.editorTitle::placeholder{ color:rgba(234,243,240,.55); }
.editorRow{
  margin-top:8px;
  display:flex;
  align-items:center;
  gap:10px;
  flex-wrap:wrap;
}

.tabs{
  display:flex;
  gap:8px;
  padding:10px 12px;
  border-bottom:1px solid var(--line);
  overflow:auto;
  -webkit-overflow-scrolling:touch;
}
.tab{
  border:1px solid var(--line);
  background:rgba(255,255,255,.04);
  color:var(--text);
  padding:8px 12px;
  border-radius:999px;
  font-weight:800;
  font-size:13px;
  cursor:pointer;
  white-space:nowrap;
}
.tab.active{
  border-color:rgba(240,160,75,.35);
  background:rgba(240,160,75,.12);
}

.editorBody{
  padding:12px;
}

textarea.textarea{
  width:100%;
  min-height:52vh;
  resize:vertical;
  border:1px solid var(--line);
  background:rgba(0,0,0,.20);
  color:var(--text);
  border-radius:14px;
  padding:14px;
  font-size:15px;
  line-height:1.75;
  outline:none;
}
textarea.textarea::placeholder{ color:rgba(234,243,240,.55); }

.footerBar{
  position:sticky;
  bottom:0;
  z-index:10;
  padding:10px 14px;
  margin-top:14px;
  border:1px solid var(--line);
  border-radius:18px;
  background:rgba(11,20,17,.88);
  backdrop-filter: blur(10px);
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:10px;
}
.footerLeft{
  display:flex; gap:8px; flex-wrap:wrap;
}
.footerRight{
  color:var(--muted);
  font-size:12px;
  white-space:nowrap;
}

.aiGrid{
  display:grid;
  grid-template-columns:1fr;
  gap:10px;
}
.aiCard{
  border:1px solid var(--line);
  background:rgba(255,255,255,.04);
  border-radius:14px;
  padding:12px;
}
.aiCardTitle{ font-weight:900; }
.aiCardSub{ margin-top:6px; color:var(--muted); font-size:12px; line-height:1.5; }
.aiCardActions{ margin-top:10px; display:flex; gap:8px; flex-wrap:wrap; }

/* --- AI layout v1.3 --- */
.aiLayout{ display:grid; grid-template-columns:1fr; gap:12px; }
.aiCol{ min-width:0; }
.aiSide{ min-width:0; }

.panelBlock{
  margin-top:12px;
  border:1px solid var(--line);
  border-radius:14px;
  background:rgba(255,255,255,.03);
  padding:12px;
}
.panelBlock:first-child{ margin-top:0; }
.panelBlockHead{
  display:flex;
  align-items:flex-start;
  justify-content:space-between;
  gap:10px;
  margin-bottom:10px;
}
.panelBlockActions{ display:flex; gap:8px; flex-wrap:wrap; }
.h3{ font-size:14px; font-weight:900; }
.sub{ margin-top:2px; font-size:12px; color:var(--muted); line-height:1.4; }

.aiCardTop{ display:flex; align-items:flex-start; justify-content:space-between; gap:10px; }
.pinBtn{
  border:1px solid var(--line);
  background:transparent;
  color:rgba(255,255,255,.7);
  width:34px; height:34px;
  border-radius:12px;
  cursor:pointer;
  white-space:nowrap;
}
.pinBtn.on{ border-color:rgba(240,160,75,.45); color:var(--accent); background:rgba(240,160,75,.10); }

.tagRow{ margin-top:10px; display:flex; gap:8px; flex-wrap:wrap; }
.tag{ font-size:12px; padding:6px 10px; border:1px solid var(--line); border-radius:999px; color:var(--muted); }

.acc{ border:1px solid var(--line); border-radius:14px; padding:10px 12px; background:rgba(0,0,0,.10); margin-top:10px; }
.acc summary{ list-style:none; cursor:pointer; display:flex; align-items:center; justify-content:space-between; gap:10px; }
.acc summary::-webkit-details-marker{ display:none; }
.accTitle{ font-weight:900; }
.accHint{ font-size:12px; color:var(--muted); }
.accBody{ margin-top:10px; }

.input{
  width:100%;
  border:1px solid var(--line);
  background:rgba(0,0,0,.18);
  color:var(--text);
  border-radius:14px;
  padding:10px 12px;
  font-size:14px;
  outline:none;
}
.input::placeholder{ color:rgba(234,243,240,.55); }

.myCmdForm{ display:flex; flex-direction:column; gap:10px; margin-bottom:12px; }
.rowEnd{ display:flex; justify-content:flex-end; gap:8px; flex-wrap:wrap; }
.miniSub{ margin-top:8px; font-size:12px; color:var(--muted); }

.sticky{ position:sticky; top:76px; }

.toast{
  position:fixed;
  left:50%;
  bottom:18px;
  transform:translateX(-50%);
  background:rgba(0,0,0,.65);
  border:1px solid rgba(255,255,255,.12);
  color:var(--text);
  padding:10px 12px;
  border-radius:999px;
  font-size:13px;
  opacity:0;
  pointer-events:none;
  transition:opacity .2s ease, transform .2s ease;
}
.toast.show{
  opacity:1;
  transform:translateX(-50%) translateY(-2px);
}

@media (min-width: 720px){
  .aiGrid{ grid-template-columns:1fr 1fr; }
  textarea.textarea{ min-height:58vh; }
  .aiLayout{ grid-template-columns:1.35fr .95fr; }
}
